#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"

#include "game/level_update.h"

#include "levels/scripts.h"

#include "actors/common1.h"

/* Fast64 begin persistent block [includes] */
/* Fast64 end persistent block [includes] */

#include "make_const_nonconst.h"
#include "levels/ssl/header.h"

/* Fast64 begin persistent block [scripts] */
/* Fast64 end persistent block [scripts] */

const LevelScript level_ssl_entry[] = {
	INIT_LEVEL(),
	LOAD_YAY0(0x07, _ssl_segment_7SegmentRomStart, _ssl_segment_7SegmentRomEnd), 
	LOAD_YAY0(0x0A, _CUSTOM_L8_skybox_yay0SegmentRomStart, _CUSTOM_L8_skybox_yay0SegmentRomEnd), 
	LOAD_YAY0_TEXTURE(0x09, _generic_yay0SegmentRomStart, _generic_yay0SegmentRomEnd), 
	LOAD_YAY0(0x05, _group9_yay0SegmentRomStart, _group9_yay0SegmentRomEnd), 
	LOAD_RAW(0x0C, _group9_geoSegmentRomStart, _group9_geoSegmentRomEnd), 
	LOAD_YAY0(0x08, _common0_yay0SegmentRomStart, _common0_yay0SegmentRomEnd), 
	LOAD_YAY0(0x06, _group17_yay0SegmentRomStart, _group17_yay0SegmentRomEnd), 
	LOAD_RAW(0x0D, _group17_geoSegmentRomStart, _group17_geoSegmentRomEnd), 
	LOAD_RAW(0x0F, _common0_geoSegmentRomStart, _common0_geoSegmentRomEnd), 
	LOAD_YAY0(0xb, _effect_yay0SegmentRomStart, _effect_yay0SegmentRomEnd), 
	ALLOC_LEVEL_POOL(),
	MARIO(MODEL_MARIO, 0x00000001, bhvMario), 
	JUMP_LINK(script_func_global_1), 
	JUMP_LINK(script_func_global_10), 
	JUMP_LINK(script_func_global_18), 
	LOAD_MODEL_FROM_GEO(MODEL_CASTLE_CASTLE_DOOR, castle_door_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_CASTLE_KEY_DOOR, key_door_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_PAINTING_ENEMY, painting_enemy_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BG_GOOMBA, boogoo_goomba_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BG_KOOPA, boogoo_koopa_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BG_SHYGUY, boogoo_shyguy_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_PAINTBRUSH, paintbrush_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_PAINTING_BRICK, painting_brick_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_CAGE_GOO, cage_goo_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_AG_BOOGOO, ag_boogoo_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BG_ASTEROID, bg_asteroid_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_O2_BOOGOO, o2_boogoo_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_SPINNING_PLAT, spinning_plat_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BIG_SPINNING_PLAT, big_spinning_plat_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_ANTENNA_BALL, antenna_ball_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_SUNCUBE, suncube_geo), 

	/* Fast64 begin persistent block [level commands] */
	/* Fast64 end persistent block [level commands] */

	AREA(1, ssl_area_1),
		WARP_NODE(0x0A, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x1A, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0xF1, LEVEL_SSL, 0x01, 0x1A, WARP_NO_CHECKPOINT),
		INSTANT_WARP(0, 0x02, -22000, 0, 10000),
		OBJECT(MODEL_NONE, -1358, 6347, -11675, 0, 90, 0, (0x1A << 16), bhvAirborneDeathWarp),
		OBJECT(MODEL_NONE, -1358, 6347, -11675, 0, 90, 0, (0xA << 16), bhvFlyingWarp),
		MARIO_POS(0x01, 90, -1358, 6347, -11675),
		OBJECT(MODEL_CASTLE_CASTLE_DOOR, -19963, 2068, 7128, 0, 0, 0, 0x00000000, bhvDoor),
		OBJECT(MODEL_PEEPA, -18913, 1307, 19110, 0, -90, 0, (1 << 24), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -18913, 1107, 19110, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -18913, 907, 19110, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19590, 1752, 16965, 0, -90, 0, 0x00000000, bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19590, 1552, 16965, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19590, 1352, 16965, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -21306, 1752, 15347, 0, -90, 0, 0x00000000, bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -21306, 1552, 15347, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -21306, 1352, 15347, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19659, 2268, 12723, 0, -90, 0, 0x00000000, bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19659, 2068, 12723, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19659, 1868, 12723, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19720, 2268, 10759, 0, -90, 0, 0x00000000, bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19720, 2068, 10759, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19720, 1868, 10759, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		OBJECT(MODEL_STAR_PIECE, -21279, 150, 25775, 0, 0, 0, (0x15 << 24), bhvStarPiece),
		OBJECT(MODEL_STAR_PIECE, -21772, 150, 25775, 0, 0, 0, (0x16 << 24), bhvStarPiece),
		OBJECT(MODEL_STAR_PIECE, -22234, 150, 25775, 0, 0, 0, (0x17 << 24), bhvStarPiece),
		OBJECT(MODEL_STAR_PIECE, -22589, 150, 25775, 0, 0, 0, (0x18 << 24), bhvStarPiece),
		OBJECT(MODEL_AG_BOOGOO, -19732, 2274, 4079, 0, 0, 0, 0x00000000, bhvBoogooObject),
		OBJECT(MODEL_HAUNTED_CAGE, -19321, 2068, 1313, 0, 180, 0, (20 << 16), bhvBoogooCage),
		OBJECT(MODEL_CASTLE_CASTLE_DOOR, -19321, 2068, 728, 0, 0, 0, 0x00000000, bhvDoor),
		OBJECT(MODEL_PAINTBRUSH, -24339, 2289, 3585, 0, 0, 0, 0x00000000, bhvPaintbrush),
		OBJECT(MODEL_PAINTING_BRICK, -22054, 2672, 617, 0, 0, 0, (80 << 24), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -21158, 2865, 617, 0, 0, 0, (110 << 24) | (1 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -20000, 3159, 1103, 0, 90, 0, (60 << 24) | (2 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -18642, 3159, 1103, 0, -90, 0, (105 << 24) | (3 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17471, 3304, 1617, 0, 0, 0, (4 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17002, 3479, 2497, 0, -90, 0, (5 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17002, 3406, 3455, 0, -90, 0, (140 << 24) | (6 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17002, 3726, 3943, 0, -90, 0, (7 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17002, 4239, 4740, 0, -90, 0, (160 << 24) | (8 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17002, 3429, 4810, 0, -90, 0, (140 << 24) | (8 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17002, 3266, 5622, 0, -90, 0, (100 << 24) | (9 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_BRICK, -17002, 4079, 4740, 0, -90, 0, (160 << 24) | (8 << 16), bhvPaintingBrick),
		OBJECT(MODEL_PAINTING_ENEMY, -17463, 3955, 7078, 0, 0, 0, 0x00000000, bhvPaintingEnemy),
		OBJECT(MODEL_PAINTING_ENEMY, -17963, 2467, 6290, 0, 90, 0, 0x00000000, bhvPaintingEnemy),
		OBJECT(MODEL_PAINTING_ENEMY, -22963, 2467, 5533, 0, -90, 0, 0x00000000, bhvPaintingEnemy),
		OBJECT(MODEL_PAINTING_ENEMY, -16963, 2467, 2230, 0, 90, 0, (1 << 16), bhvPaintingEnemy),
		OBJECT(MODEL_PAINTING_ENEMY, -16963, 2467, 3767, 0, 90, 0, (1 << 16), bhvPaintingEnemy),
		OBJECT(MODEL_PAINTING_ENEMY, -16963, 2467, 2847, 0, 90, 0, (1 << 16), bhvPaintingEnemy),
		OBJECT(MODEL_PAINTING_ENEMY, -22963, 2467, 6790, 0, -90, 0, 0x00000000, bhvPaintingEnemy),
		OBJECT(MODEL_PAINTING_ENEMY, -24463, 2467, 3413, 0, -90, 0, (2 << 16), bhvPaintingEnemyRespawn),
		OBJECT(MODEL_NONE, -19321, 3289, 628, 0, 0, 0, 0x00000000, bhvPaintingTeleport),
		OBJECT(MODEL_NONE, -21525, 2220, 7228, 0, -180, 0, (1 << 16), bhvPaintingTeleport),
		OBJECT(MODEL_SHYGUY, -24339, 2213, 3630, 0, -180, 0, 0x00000000, bhvShyguyPainter),
		OBJECT(MODEL_STAR_PIECE, -19948, 2018, 4299, 0, 0, 0, (0x14 << 24), bhvStarPiece),
		OBJECT(MODEL_BG_ASTEROID, -19949, 2884, -11665, 0, 124, 0, (10 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -15468, 4803, -8033, 0, 101, 0, (45 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -15369, 5003, -5297, 0, -97, 0, (50 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -17339, 5581, -8801, 0, -97, 0, (35 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -17755, 5581, -9732, 0, 90, 0, (35 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -19170, 6115, -8689, 0, -162, 0, (30 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -20429, 6291, -9177, 0, 5, 0, (40 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -22114, 6448, -10376, 0, -120, 0, (45 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -18302, 7538, -22118, 0, 0, 0, (40 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -19214, 7538, -20661, 0, 103, 0, (40 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -18253, 7856, -18089, 0, 126, 0, (60 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -17870, 7856, -17565, 0, -54, 0, (60 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -8093, 5510, -13310, 0, 114, 0, (1 << 16), bhvBGAsteroid),
		OBJECT(MODEL_BG_ASTEROID, -9448, 5126, -11991, 0, 19, 0, 0x00000000, bhvBGAsteroidGrow),
		OBJECT(MODEL_BG_ASTEROID, -9250, 4941, -10462, 0, -75, 0, 0x00000000, bhvBGAsteroidGrow),
		OBJECT(MODEL_BG_ASTEROID, -9448, 5166, -14611, 0, 19, 0, 0x00000000, bhvBGAsteroidGrow),
		OBJECT(MODEL_HAUNTED_CAGE, -16283, 4876, -13517, 0, 180, 0, (21 << 16), bhvBoogooCage),
		OBJECT(MODEL_O2_BOOGOO, -15732, 6503, -21987, 0, 0, 0, (1 << 16), bhvBoogooObject),
		OBJECT(MODEL_BG_GOOMBA, -17417, 7353, -16833, 0, 180, 0, 0x00000000, bhvGoomba),
		OBJECT(MODEL_BG_GOOMBA, -19954, 6792, -12199, 0, 180, 0, 0x00000000, bhvGoomba),
		OBJECT(MODEL_BG_GOOMBA, -8381, 4021, -9448, 0, 180, 0, 0x00000000, bhvGoomba),
		OBJECT(MODEL_PEEPA, -19707, 2858, -5636, 0, -90, 0, (1 << 24), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19707, 2658, -5636, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -19707, 2458, -5636, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -17245, 5492, -6877, 0, -90, 0, 0x00000000, bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -17245, 5292, -6877, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -17245, 5092, -6877, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -21848, 6595, -8922, 0, -90, 0, 0x00000000, bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -21848, 6395, -8922, 0, -90, 0, (1 << 16), bhvFloorPeepa),
		OBJECT(MODEL_PEEPA, -21848, 6195, -8922, 0, -90, 0, (2 << 16), bhvFloorPeepa),
		TERRAIN(ssl_area_1_collision),
		ROOMS(ssl_area_1_collision_rooms),
		MACRO_OBJECTS(ssl_area_1_macro_objs),
		STOP_MUSIC(0),
		TERRAIN_TYPE(TERRAIN_STONE),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	AREA(2, ssl_area_2),
		WARP_NODE(0x0A, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x1A, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0xF1, LEVEL_SSL, 0x02, 0x1A, WARP_NO_CHECKPOINT),
		INSTANT_WARP(0, 0x01, 22000, 0, -10000),
		OBJECT(MODEL_NONE, -22187, 6347, -1694, 0, 90, 0, (0x1A << 16), bhvAirborneDeathWarp),
		OBJECT(MODEL_NONE, -22187, 6347, -1694, 0, 90, 0, (0xA << 16), bhvFlyingWarp),
		OBJECT(MODEL_CASTLE_CASTLE_DOOR, -19265, 5687, -4800, 0, 0, 0, 0x00000000, bhvDoor),
		OBJECT(MODEL_BIG_SPINNING_PLAT, -5382, 6737, -9688, 0, 0, 0, 0x00000000, bhvBigSpinningPlat),
		OBJECT(MODEL_BLUE_COIN, -3742, 6837, -9792, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -4296, 6837, -11069, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -4175, 6837, -12845, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -5393, 6837, -12691, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -5740, 6837, -11348, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -3865, 6837, -8500, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -5068, 6837, -10043, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -5391, 6837, -8796, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -5066, 6837, -7771, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -4817, 6837, -6431, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN_SWITCH, -3667, 6787, -7428, 0, -180, 0, 0x13023600, bhvBlueCoinSwitch),
		OBJECT(MODEL_CASTLE_CASTLE_DOOR, 6243, 7311, -11707, 0, -90, 0, 0x00000000, bhvDoor),
		OBJECT(MODEL_SPINNING_PLAT, -17725, 5759, -10961, 0, 0, 0, 0x00000000, bhvSpinningPlat),
		OBJECT(MODEL_SPINNING_PLAT, -14605, 6243, -9337, 0, 0, 0, 0x00000000, bhvSpinningPlat),
		OBJECT(MODEL_SPINNING_PLAT, -13916, 6243, -8073, 0, 0, 0, 0x00000000, bhvSpinningPlat),
		OBJECT(MODEL_SPINNING_PLAT, -12425, 6243, -8125, 0, 0, 0, 0x00000000, bhvSpinningPlat),
		OBJECT(MODEL_SPINNING_PLAT, 1296, 7111, -9177, 0, 0, 0, 0x00000000, bhvSpinningPlat),
		OBJECT(MODEL_SPINNING_PLAT, 2250, 7111, -12248, 0, 0, 0, 0x00000000, bhvSpinningPlat),
		OBJECT(MODEL_ANTENNA_BALL, 11330, 7809, -10638, 0, 0, 0, 0x00000000, bhvAntennaBall),
		OBJECT(MODEL_ANTENNA_BALL, 17697, 7809, -9838, 0, 0, 0, 0x00000000, bhvAntennaBall),
		OBJECT(MODEL_ANTENNA_BALL, 17697, 7809, -13576, 0, 0, 0, 0x00000000, bhvAntennaBall),
		OBJECT(MODEL_HAUNTED_CAGE, 18724, 7311, -11707, 0, 0, 0, (22 << 16), bhvBoogooCage),
		OBJECT(MODEL_ANTENNA_BALL, 11330, 7809, -12776, 0, 0, 0, (1 << 16), bhvAntennaBall),
		OBJECT(MODEL_MR_I, 7603, 7311, -12007, 0, -90, 0, 0x00000000, bhvMrI),
		OBJECT(MODEL_MR_I, 14932, 7311, -14363, 0, -90, 0, 0x00000000, bhvMrI),
		OBJECT(MODEL_MR_I, 16981, 7311, -15688, 0, -90, 0, 0x00000000, bhvMrI),
		OBJECT(MODEL_MR_I, 16981, 7311, -7726, 0, -90, 0, 0x00000000, bhvMrI),
		OBJECT(MODEL_MR_I, 14932, 7311, -10229, 0, -90, 0, 0x00000000, bhvMrI),
		OBJECT(MODEL_SUNCUBE, 14493, 7311, -15838, 0, 0, 0, 0x00000000, bhvSuncube),
		OBJECT(MODEL_SUNCUBE, 14493, 7311, -7576, 0, 0, 0, (1 << 16), bhvSuncube),
		TERRAIN(ssl_area_2_collision),
		ROOMS(ssl_area_2_collision_rooms),
		MACRO_OBJECTS(ssl_area_2_macro_objs),
		STOP_MUSIC(0),
		TERRAIN_TYPE(TERRAIN_STONE),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	FREE_LEVEL_POOL(),
	MARIO_POS(0x01, 90, -1358, 6347, -11675),
	CALL(0, lvl_init_or_update),
	CALL_LOOP(1, lvl_init_or_update),
	CLEAR_LEVEL(),
	SLEEP_BEFORE_EXIT(1),
	EXIT(),
};
